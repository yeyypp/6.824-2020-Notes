Test (2B): basic agreement ...
node:0, index:1, cmd1:<nil>, ok:false
node:1, index:1, cmd1:<nil>, ok:false
node:2, index:1, cmd1:<nil>, ok:false
RequestVote Received ---> node:1, term:0, state:FOLLOWER, args:&{Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
RequestVote Received ---> node:2, term:0, state:FOLLOWER, args:&{Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
0 becomes leader!
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommitIndex:0}
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommitIndex:0}
node:0, term:1, leader:true, index change from -1 to 1
node:0, index:1, cmd1:<nil>, ok:false
node:1, index:1, cmd1:<nil>, ok:false
node:2, index:1, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:1
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:0 PrevLogTerm:0 Entries:[0xc000028580] LeaderCommitIndex:0}
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:0 PrevLogTerm:0 Entries:[0xc00019a920] LeaderCommitIndex:0}
node:0, index:1, cmd1:100, ok:true
node:1, index:1, cmd1:<nil>, ok:false
node:2, index:1, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:1
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommitIndex:1}
node:0, index:1, cmd1:100, ok:true
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommitIndex:1}
node:1, index:1, cmd1:<nil>, ok:false
node:2, index:1, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:1
node:0, index:1, cmd1:100, ok:true
node:1, index:1, cmd1:100, ok:true
node:2, index:1, cmd1:100, ok:true
nd: 3, expectedServers:3, index:1
node:0, index:2, cmd1:<nil>, ok:false
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
node:0, term:1, leader:true, index change from -1 to 2
node:0, index:2, cmd1:<nil>, ok:false
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:2
node:0, index:2, cmd1:<nil>, ok:false
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:2
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:1 PrevLogTerm:1 Entries:[0xc00019acc0] LeaderCommitIndex:1}
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:1 PrevLogTerm:1 Entries:[0xc000028c40] LeaderCommitIndex:1}
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:2
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:2
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:2
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:2
Node:0 is leader now
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:<nil>, ok:false
node:2, index:2, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:2
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommitIndex:2}
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:2 PrevLogTerm:1 Entries:[] LeaderCommitIndex:2}
node:0, index:2, cmd1:200, ok:true
node:1, index:2, cmd1:200, ok:true
node:2, index:2, cmd1:200, ok:true
nd: 3, expectedServers:3, index:2
node:0, index:3, cmd1:<nil>, ok:false
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
node:0, term:1, leader:true, index change from -1 to 3
node:0, index:3, cmd1:<nil>, ok:false
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:3
node:0, index:3, cmd1:<nil>, ok:false
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:3
node:0, index:3, cmd1:<nil>, ok:false
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:3
node:0, index:3, cmd1:<nil>, ok:false
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 0, expectedServers:3, index:3
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:2 PrevLogTerm:1 Entries:[0xc000029360] LeaderCommitIndex:2}
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:2 PrevLogTerm:1 Entries:[0xc00019b3a0] LeaderCommitIndex:2}
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:3
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:3
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:3
Node:0 is leader now
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:3
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:<nil>, ok:false
node:2, index:3, cmd1:<nil>, ok:false
nd: 1, expectedServers:3, index:3
AppendEntries Received ---> node:1, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:3 PrevLogTerm:1 Entries:[] LeaderCommitIndex:3}
AppendEntries Received ---> node:2, term:1, state:FOLLOWER, args:&{Term:1 LeaderId:0 PrevLogIndex:3 PrevLogTerm:1 Entries:[] LeaderCommitIndex:3}
node:0, index:3, cmd1:300, ok:true
node:1, index:3, cmd1:300, ok:true
node:2, index:3, cmd1:300, ok:true
nd: 3, expectedServers:3, index:3
  ... Passed --  real time: 0.6  number of Raft peers:3 number of RPC sends:  16 number of bytes:   4164 number of Raft agreements reported:   3
PASS
ok  	_/home/shuai/Projects/6.824/src/raft	0.645s
